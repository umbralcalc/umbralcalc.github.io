<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="description" content="umbralcalculations - Visual explorations in computation, science and creative writing" />
  <meta name="keywords" content="computation, science, creative writing, simulation, data" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="../assets/umbralcalculations-logo.svg">
  <link rel="icon" type="image/x-icon" href="../assets/favicon.ico">
  <link rel="apple-touch-icon" href="../assets/umbralcalculations-logo.svg">
  
  <title>Substitution timing of rugby managers</title>
  
  <!-- Fonts -->
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Open+Sans:wght@300;400;600&display=swap');
  </style>
  
  <!-- Prism.js for syntax highlighting -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-vs.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-go.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-shell-session.min.js"></script>
  
  <!-- Custom CSS -->
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Open Sans', sans-serif;
      line-height: 1.6;
      color: #333;
      background: #fafafa;
      padding: 0;
      margin: 0;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
      background: #fff;
      min-height: 100vh;
    }

    nav {
      margin-bottom: 3rem;
      padding-bottom: 1.5rem;
      border-bottom: 2px solid #e0e0e0;
      white-space: nowrap;
    }

    nav a {
      color: #2c3e50;
      text-decoration: none;
      font-weight: 600;
      margin-right: 2rem;
      transition: color 0.3s;
      font-size: 1.1rem;
      display: inline-block;
    }

    nav a:hover {
      color: #b0447aff;
      text-decoration: none;
    }

    /* Typography */
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Merriweather', serif;
      color: #1a1a1a;
      margin-top: 1.5rem;
      margin-bottom: 0.75rem;
      line-height: 1.3;
    }

    h1 {
      font-size: 2rem;
      color: #1a1a1a;
      margin-bottom: 0.5rem;
      border-bottom: 3px solid #2c3e50;
      padding-bottom: 0.3rem;
      margin-top: 0;
    }

    h2 {
      font-size: 1.8rem;
      color: #2c3e50;
      margin-top: 2rem;
      margin-bottom: 0.75rem;
      border-bottom: 2px solid #3c78d8ff;
      padding-bottom: 0.3rem;
    }

    h3 {
      font-size: 1.4rem;
      color: #2c3e50;
      margin-top: 1.5rem;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }

    h4 {
      font-size: 1.2rem;
      color: #2c3e50;
      margin-top: 1.2rem;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }

    h5, h6 {
      font-size: 1.1rem;
      color: #2c3e50;
      margin-top: 1rem;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }

    p {
      margin-bottom: 1rem;
      color: #333;
      line-height: 1.7;
    }

    a {
      color: #3c78d8ff;
      text-decoration: none;
      transition: color 0.2s ease;
    }

    a:hover {
      color: #3c78d8ff;
      text-decoration: underline;
    }

    hr {
      border: none;
      border-top: 1px solid #ddd;
      margin: 2rem 0;
    }

    /* Code blocks */
    pre {
      background-color: #1e1e1e;
      color: #d4d4d4;
      padding: 1.5rem;
      border-radius: 0;
      overflow-x: auto;
      margin: 1.5rem 0;
      font-size: 0.875rem;
      line-height: 1.5;
      border: 1px solid #e0e0e0;
    }

    code {
      background-color: #f1f5f9;
      color: #333;
      padding: 0.125rem 0.375rem;
      border-radius: 0;
      font-size: 0.875rem;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Courier New', monospace;
    }

    pre code {
      background-color: transparent;
      color: inherit;
      padding: 0;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Courier New', monospace;
    }

    /* Lists */
    ul, ol {
      margin-bottom: 1rem;
      margin-left: 1.5rem;
    }

    li {
      margin-bottom: 0.5rem;
      color: #333;
      line-height: 1.6;
    }

    /* Tables */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
      background-color: #fff;
      border-radius: 0;
      overflow: hidden;
    }

    th, td {
      padding: 0.75rem 1rem;
      text-align: left;
      border-bottom: 1px solid #e0e0e0;
    }

    th {
      background-color: #f8f9fa;
      font-weight: 600;
      color: #2c3e50;
    }

    /* Blockquotes */
    blockquote {
      border-left: 4px solid #3c78d8ff;
      padding-left: 1rem;
      margin: 1.5rem 0;
      color: #555;
      font-style: italic;
    }

    /* Images */
    img {
      max-width: 100%;
      height: auto;
      border-radius: 0;
      margin: 1.5rem 0;
    }

    /* Math */
    .math {
      overflow-x: auto;
      overflow-y: hidden;
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .container {
        padding: 1.5rem;
      }

      h1 {
        font-size: 1.8rem;
      }

      h2 {
        font-size: 1.5rem;
      }

      nav a {
        margin-right: 1.5rem;
        font-size: 1rem;
      }
      
      .series-hero {
        flex-direction: column;
        align-items: flex-start;
      }

      .series-cover {
        width: 100%;
        align-self: flex-start;
      }

      .post-images img {
        height: 96px;
      }
    }

    /* Series navigation */
    .series-nav {
      margin: 1.5rem 0 2.5rem;
      padding: 1.5rem;
      border: 1px solid #e0e0e0;
      background: #fafafa;
    }

    .series-eyebrow {
      font-size: 0.75rem;
      color: #888;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin-bottom: 0.4rem;
    }

    .series-title {
      font-family: 'Merriweather', serif;
      font-size: 1.5rem;
      color: #2c3e50;
      margin: 0;
    }

    .series-hero {
      display: flex;
      align-items: center;
      gap: 1.5rem;
      margin: 0.75rem 0 1.2rem;
    }

    .series-cover {
      display: block;
      width: 20%;
      max-width: 520px;
      margin: 0;
      border: 1px solid #e0e0e0;
      background: #fff;
    }
    
    .series-blurb {
      flex: 1;
      margin: 0 0 0 20px;
      color: #888;
      font-size: 0.9rem;
      font-style: italic;
      line-height: 1.6;
      max-width: 400px;
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .series-blurb {
        margin: 0 0 0 0;
      }
    }

    .series-toc-title {
      margin-top: 0.9rem;
      font-size: 1rem;
      color: #2c3e50;
      font-weight: 600;
    }

    .series-toc {
      margin: 0.4rem 0 0 1.2rem;
    }

    .series-toc li {
      margin-bottom: 0.4rem;
    }

    .series-toc a {
      color: #2c3e50;
    }

    .series-toc .is-current a {
      color: #3c78d8ff;
      font-weight: 600;
    }

    /* Next post card */
    .next-post {
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid #e0e0e0;
    }
    
    .next-post-label {
      font-size: 0.9rem;
      color: #888;
      margin-bottom: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    
    .next-post-card {
      display: block;
      text-decoration: none;
      color: inherit;
      padding: 1.5rem;
      border: 1px solid #e0e0e0;
      border-radius: 0;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .next-post-card:hover {
      border-color: #3c78d8ff;
      box-shadow: 0 2px 8px rgba(52, 152, 219, 0.1);
      transform: translateY(-2px);
    }
    
    .next-post-card::after {
      content: "→";
      position: absolute;
      right: 1.5rem;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.5rem;
      color: #3c78d8ff;
      transition: transform 0.3s ease;
      font-weight: bold;
    }
    
    .next-post-card:hover::after {
      transform: translateY(-50%) translateX(5px);
    }
    
    .next-post-images {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }
    
    .next-post-images img {
      height: 120px;
      width: auto;
      border-radius: 0;
      display: block;
    }

    @media (max-width: 768px) {
      .next-post-images img {
        height: 80px;
      }
    }
    
    .next-post-title {
      font-family: 'Merriweather', serif;
      font-size: 1.5rem;
      color: #2c3e50;
      margin: 0;
      padding-right: 2rem;
    }
    
    .next-post-card:hover .next-post-title {
      color: #3c78d8ff;
    }
    
    /* Print styles */
    @media print {
      body {
        background: #fff;
      }
      
      .container {
        max-width: 100%;
        padding: 0;
      }
      
      .next-post {
        display: none;
      }

      .series-nav {
        display: none;
      }
    }
    
  </style>

    
    
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
  <div class="container">
    <nav>
      <a href="../index.html">Home</a>
      <a href="https://github.com/umbralcalc">GitHub</a>
      <a href="../cv.html">CV</a>
    </nav>

        <section class="series-nav" id="series-nav" data-series-tag="Engineering Smart Actions in Practice" data-series-order="1">
      <div class="series-hero">
                <img class="series-cover" id="series-cover" src="https://pub-afdb1348ec964ca5b530aa758c0bdc56.r2.dev/assets/engineering-smart-actions-in-practice-cover.svg" alt="Engineering Smart Actions in Practice cover" onerror="this.style.display='none'" />
                        <p class="series-blurb">A collection of posts which apply tools for simulating real-world systems to solve various practical problems along the same theme of ‘selecting the best actions to take’. All data sources have been referenced in the relevant project code repositories. All written material and non-interactive diagrams were human-generated, where some interactive elements were programmed using generative AI tools.</p>
              </div>
      <div class="series-eyebrow">Collection</div>
      <h2 class="series-title">Engineering Smart Actions in Practice</h2>
      <ol class="series-toc" id="series-toc"></ol>
    </section>
    
    <main>
      <h1 id="substitution-timing-of-rugby-managers">Substitution timing of rugby managers</h1>
      <div style="height:0.75em;">

      </div>
      <p>In <a href="https://github.com/umbralcalc/trywizard">this project</a> we build a simulation of a rugby match and enable player substitution actions to change its outcomes. The data used to train this model is described in the project repository.</p>
      <p>Using the <a href="https://umbralcalc.github.io/stochadex">stochadex simulation engine</a> we can define this simulation structure through a relatively simple diagram.</p>
      <center>
      <img src="https://pub-afdb1348ec964ca5b530aa758c0bdc56.r2.dev/assets/substitution_timing_of_rugby_managers/rugby-match-simulation.svg"/>
      </center>
      <p>The next step is to smooth and aggregate the data to produce baseline event rates for all of the relevant events which our simulation needs to learn.</p>
      <p>These event rates can be thought of as: ‘what the averaged rugby match does’.</p>
      <div class="echarts-container">
          <div class="echarts-item" id="ABEzhidnSACY" style="width:100%;max-width:600px;height:350px;"></div>
      </div>
      <script src="https://go-echarts.github.io/go-echarts-assets/assets/echarts.min.js"></script>
      <style>
          .echarts-container {margin-top:30px; margin-bottom:30px; display: flex;justify-content: center;align-items: center;}
          .echarts-item {margin: auto;}
      </style>
      <script type="text/javascript">
          "use strict";
          let goecharts_ABEzhidnSACY = echarts.init(document.getElementById('ABEzhidnSACY'), "white", { renderer: "canvas" });
          let option_ABEzhidnSACY = {"color":["#2c3e50","#2c3e50","#3c78d8","#3c78d8","#b0447a","#b0447a"],"legend":{"top":"30px"},"grid":{"top":"90px"},"series":[{"name":"try (home)","type":"line","data":[{"value":[0,"0.0693"]},{"value":[1,"0.0675"]},{"value":[2,"0.0635"]},{"value":[3,"0.0667"]},{"value":[4,"0.0695"]},{"value":[5,"0.0710"]},{"value":[6,"0.0705"]},{"value":[7,"0.0710"]},{"value":[8,"0.0705"]},{"value":[9,"0.0700"]},{"value":[10,"0.0683"]},{"value":[11,"0.0683"]},{"value":[12,"0.0674"]},{"value":[13,"0.0679"]},{"value":[14,"0.0662"]},{"value":[15,"0.0690"]},{"value":[16,"0.0697"]},{"value":[17,"0.0669"]},{"value":[18,"0.0648"]},{"value":[19,"0.0634"]},{"value":[20,"0.0579"]},{"value":[21,"0.0566"]},{"value":[22,"0.0524"]},{"value":[23,"0.0522"]},{"value":[24,"0.0543"]},{"value":[25,"0.0513"]},{"value":[26,"0.0533"]},{"value":[27,"0.0565"]},{"value":[28,"0.0562"]},{"value":[29,"0.0543"]},{"value":[30,"0.0494"]},{"value":[31,"0.0494"]},{"value":[32,"0.0478"]},{"value":[33,"0.0494"]},{"value":[34,"0.0462"]},{"value":[35,"0.0467"]},{"value":[36,"0.0471"]},{"value":[37,"0.0446"]},{"value":[38,"0.0467"]},{"value":[39,"0.0440"]},{"value":[40,"0.0440"]},{"value":[41,"0.0547"]},{"value":[42,"0.0537"]},{"value":[43,"0.0553"]},{"value":[44,"0.0544"]},{"value":[45,"0.0537"]},{"value":[46,"0.0560"]},{"value":[47,"0.0543"]},{"value":[48,"0.0560"]},{"value":[49,"0.0543"]},{"value":[50,"0.0564"]},{"value":[51,"0.0564"]},{"value":[52,"0.0581"]},{"value":[53,"0.0579"]},{"value":[54,"0.0579"]},{"value":[55,"0.0568"]},{"value":[56,"0.0600"]},{"value":[57,"0.0592"]},{"value":[58,"0.0552"]},{"value":[59,"0.0565"]},{"value":[60,"0.0539"]},{"value":[61,"0.0576"]},{"value":[62,"0.0584"]},{"value":[63,"0.0565"]},{"value":[64,"0.0552"]},{"value":[65,"0.0568"]},{"value":[66,"0.0568"]},{"value":[67,"0.0570"]},{"value":[68,"0.0563"]},{"value":[69,"0.0556"]},{"value":[70,"0.0541"]},{"value":[71,"0.0536"]},{"value":[72,"0.0504"]},{"value":[73,"0.0508"]},{"value":[74,"0.0508"]},{"value":[75,"0.0488"]},{"value":[76,"0.0491"]},{"value":[77,"0.0470"]},{"value":[78,"0.0463"]},{"value":[79,"0.0463"]},{"value":[80,"0.0470"]},{"value":[81,"0.0463"]},{"value":[82,"0.0444"]},{"value":[83,"0.0459"]},{"value":[84,"0.0437"]},{"value":[85,"0.0486"]}],"symbol":"circle","showSymbol":true,"lineStyle":{"width":2}},{"name":"try (away)","type":"line","data":[{"value":[0,"0.0267"]},{"value":[1,"0.0262"]},{"value":[2,"0.0282"]},{"value":[3,"0.0356"]},{"value":[4,"0.0368"]},{"value":[5,"0.0380"]},{"value":[6,"0.0419"]},{"value":[7,"0.0380"]},{"value":[8,"0.0419"]},{"value":[9,"0.0409"]},{"value":[10,"0.0417"]},{"value":[11,"0.0417"]},{"value":[12,"0.0467"]},{"value":[13,"0.0457"]},{"value":[14,"0.0462"]},{"value":[15,"0.0476"]},{"value":[16,"0.0483"]},{"value":[17,"0.0497"]},{"value":[18,"0.0497"]},{"value":[19,"0.0503"]},{"value":[20,"0.0524"]},{"value":[21,"0.0517"]},{"value":[22,"0.0545"]},{"value":[23,"0.0609"]},{"value":[24,"0.0600"]},{"value":[25,"0.0600"]},{"value":[26,"0.0629"]},{"value":[27,"0.0583"]},{"value":[28,"0.0533"]},{"value":[29,"0.0505"]},{"value":[30,"0.0506"]},{"value":[31,"0.0471"]},{"value":[32,"0.0467"]},{"value":[33,"0.0471"]},{"value":[34,"0.0437"]},{"value":[35,"0.0413"]},{"value":[36,"0.0386"]},{"value":[37,"0.0400"]},{"value":[38,"0.0383"]},{"value":[39,"0.0400"]},{"value":[40,"0.0400"]},{"value":[41,"0.0453"]},{"value":[42,"0.0462"]},{"value":[43,"0.0435"]},{"value":[44,"0.0433"]},{"value":[45,"0.0411"]},{"value":[46,"0.0440"]},{"value":[47,"0.0438"]},{"value":[48,"0.0440"]},{"value":[49,"0.0438"]},{"value":[50,"0.0445"]},{"value":[51,"0.0445"]},{"value":[52,"0.0457"]},{"value":[53,"0.0421"]},{"value":[54,"0.0432"]},{"value":[55,"0.0416"]},{"value":[56,"0.0409"]},{"value":[57,"0.0432"]},{"value":[58,"0.0416"]},{"value":[59,"0.0426"]},{"value":[60,"0.0400"]},{"value":[61,"0.0392"]},{"value":[62,"0.0400"]},{"value":[63,"0.0417"]},{"value":[64,"0.0416"]},{"value":[65,"0.0424"]},{"value":[66,"0.0448"]},{"value":[67,"0.0481"]},{"value":[68,"0.0474"]},{"value":[69,"0.0467"]},{"value":[70,"0.0444"]},{"value":[71,"0.0464"]},{"value":[72,"0.0430"]},{"value":[73,"0.0446"]},{"value":[74,"0.0446"]},{"value":[75,"0.0424"]},{"value":[76,"0.0391"]},{"value":[77,"0.0400"]},{"value":[78,"0.0411"]},{"value":[79,"0.0411"]},{"value":[80,"0.0400"]},{"value":[81,"0.0411"]},{"value":[82,"0.0411"]},{"value":[83,"0.0388"]},{"value":[84,"0.0375"]},{"value":[85,"0.0414"]}],"symbol":"emptyCircle","showSymbol":true,"lineStyle":{"width":2}},{"name":"penalty goal (home)","type":"line","data":[{"value":[0,"0.0107"]},{"value":[1,"0.0100"]},{"value":[2,"0.0094"]},{"value":[3,"0.0089"]},{"value":[4,"0.0084"]},{"value":[5,"0.0080"]},{"value":[6,"0.0076"]},{"value":[7,"0.0080"]},{"value":[8,"0.0076"]},{"value":[9,"0.0073"]},{"value":[10,"0.0092"]},{"value":[11,"0.0092"]},{"value":[12,"0.0081"]},{"value":[13,"0.0086"]},{"value":[14,"0.0083"]},{"value":[15,"0.0103"]},{"value":[16,"0.0103"]},{"value":[17,"0.0103"]},{"value":[18,"0.0097"]},{"value":[19,"0.0097"]},{"value":[20,"0.0097"]},{"value":[21,"0.0097"]},{"value":[22,"0.0097"]},{"value":[23,"0.0078"]},{"value":[24,"0.0076"]},{"value":[25,"0.0070"]},{"value":[26,"0.0067"]},{"value":[27,"0.0070"]},{"value":[28,"0.0076"]},{"value":[29,"0.0086"]},{"value":[30,"0.0094"]},{"value":[31,"0.0082"]},{"value":[32,"0.0078"]},{"value":[33,"0.0071"]},{"value":[34,"0.0075"]},{"value":[35,"0.0080"]},{"value":[36,"0.0086"]},{"value":[37,"0.0077"]},{"value":[38,"0.0083"]},{"value":[39,"0.0040"]},{"value":[40,"0.0040"]},{"value":[41,"0.0067"]},{"value":[42,"0.0063"]},{"value":[43,"0.0059"]},{"value":[44,"0.0056"]},{"value":[45,"0.0063"]},{"value":[46,"0.0070"]},{"value":[47,"0.0067"]},{"value":[48,"0.0070"]},{"value":[49,"0.0067"]},{"value":[50,"0.0082"]},{"value":[51,"0.0082"]},{"value":[52,"0.0086"]},{"value":[53,"0.0084"]},{"value":[54,"0.0084"]},{"value":[55,"0.0096"]},{"value":[56,"0.0096"]},{"value":[57,"0.0096"]},{"value":[58,"0.0096"]},{"value":[59,"0.0104"]},{"value":[60,"0.0122"]},{"value":[61,"0.0120"]},{"value":[62,"0.0120"]},{"value":[63,"0.0113"]},{"value":[64,"0.0120"]},{"value":[65,"0.0112"]},{"value":[66,"0.0112"]},{"value":[67,"0.0104"]},{"value":[68,"0.0119"]},{"value":[69,"0.0119"]},{"value":[70,"0.0119"]},{"value":[71,"0.0128"]},{"value":[72,"0.0119"]},{"value":[73,"0.0115"]},{"value":[74,"0.0115"]},{"value":[75,"0.0112"]},{"value":[76,"0.0100"]},{"value":[77,"0.0090"]},{"value":[78,"0.0084"]},{"value":[79,"0.0084"]},{"value":[80,"0.0090"]},{"value":[81,"0.0084"]},{"value":[82,"0.0089"]},{"value":[83,"0.0082"]},{"value":[84,"0.0088"]},{"value":[85,"0.0071"]}],"symbol":"circle","showSymbol":true,"lineStyle":{"width":2}},{"name":"penalty goal (away)","type":"line","data":[{"value":[0,"0.0147"]},{"value":[1,"0.0150"]},{"value":[2,"0.0141"]},{"value":[3,"0.0144"]},{"value":[4,"0.0137"]},{"value":[5,"0.0140"]},{"value":[6,"0.0143"]},{"value":[7,"0.0140"]},{"value":[8,"0.0143"]},{"value":[9,"0.0136"]},{"value":[10,"0.0133"]},{"value":[11,"0.0133"]},{"value":[12,"0.0126"]},{"value":[13,"0.0121"]},{"value":[14,"0.0117"]},{"value":[15,"0.0117"]},{"value":[16,"0.0124"]},{"value":[17,"0.0110"]},{"value":[18,"0.0110"]},{"value":[19,"0.0103"]},{"value":[20,"0.0110"]},{"value":[21,"0.0110"]},{"value":[22,"0.0103"]},{"value":[23,"0.0096"]},{"value":[24,"0.0086"]},{"value":[25,"0.0078"]},{"value":[26,"0.0067"]},{"value":[27,"0.0070"]},{"value":[28,"0.0067"]},{"value":[29,"0.0076"]},{"value":[30,"0.0059"]},{"value":[31,"0.0059"]},{"value":[32,"0.0067"]},{"value":[33,"0.0071"]},{"value":[34,"0.0063"]},{"value":[35,"0.0067"]},{"value":[36,"0.0071"]},{"value":[37,"0.0077"]},{"value":[38,"0.0083"]},{"value":[39,"0.0080"]},{"value":[40,"0.0080"]},{"value":[41,"0.0173"]},{"value":[42,"0.0163"]},{"value":[43,"0.0153"]},{"value":[44,"0.0156"]},{"value":[45,"0.0147"]},{"value":[46,"0.0140"]},{"value":[47,"0.0143"]},{"value":[48,"0.0140"]},{"value":[49,"0.0143"]},{"value":[50,"0.0145"]},{"value":[51,"0.0145"]},{"value":[52,"0.0114"]},{"value":[53,"0.0084"]},{"value":[54,"0.0084"]},{"value":[55,"0.0096"]},{"value":[56,"0.0096"]},{"value":[57,"0.0096"]},{"value":[58,"0.0096"]},{"value":[59,"0.0096"]},{"value":[60,"0.0087"]},{"value":[61,"0.0080"]},{"value":[62,"0.0096"]},{"value":[63,"0.0104"]},{"value":[64,"0.0096"]},{"value":[65,"0.0104"]},{"value":[66,"0.0104"]},{"value":[67,"0.0096"]},{"value":[68,"0.0096"]},{"value":[69,"0.0096"]},{"value":[70,"0.0104"]},{"value":[71,"0.0104"]},{"value":[72,"0.0096"]},{"value":[73,"0.0100"]},{"value":[74,"0.0100"]},{"value":[75,"0.0104"]},{"value":[76,"0.0100"]},{"value":[77,"0.0100"]},{"value":[78,"0.0084"]},{"value":[79,"0.0084"]},{"value":[80,"0.0100"]},{"value":[81,"0.0084"]},{"value":[82,"0.0089"]},{"value":[83,"0.0094"]},{"value":[84,"0.0088"]},{"value":[85,"0.0086"]}],"symbol":"emptyCircle","showSymbol":true,"lineStyle":{"width":2}},{"name":"yellow card (home)","type":"line","data":[{"value":[0,"0.0013"]},{"value":[1,"0.0025"]},{"value":[2,"0.0024"]},{"value":[3,"0.0022"]},{"value":[4,"0.0021"]},{"value":[5,"0.0020"]},{"value":[6,"0.0019"]},{"value":[7,"0.0020"]},{"value":[8,"0.0019"]},{"value":[9,"0.0027"]},{"value":[10,"0.0042"]},{"value":[11,"0.0042"]},{"value":[12,"0.0052"]},{"value":[13,"0.0050"]},{"value":[14,"0.0048"]},{"value":[15,"0.0055"]},{"value":[16,"0.0055"]},{"value":[17,"0.0062"]},{"value":[18,"0.0062"]},{"value":[19,"0.0062"]},{"value":[20,"0.0062"]},{"value":[21,"0.0062"]},{"value":[22,"0.0062"]},{"value":[23,"0.0078"]},{"value":[24,"0.0086"]},{"value":[25,"0.0078"]},{"value":[26,"0.0067"]},{"value":[27,"0.0087"]},{"value":[28,"0.0095"]},{"value":[29,"0.0095"]},{"value":[30,"0.0106"]},{"value":[31,"0.0094"]},{"value":[32,"0.0089"]},{"value":[33,"0.0082"]},{"value":[34,"0.0063"]},{"value":[35,"0.0067"]},{"value":[36,"0.0071"]},{"value":[37,"0.0077"]},{"value":[38,"0.0083"]},{"value":[39,"0.0080"]},{"value":[40,"0.0080"]},{"value":[41,"0.0093"]},{"value":[42,"0.0112"]},{"value":[43,"0.0106"]},{"value":[44,"0.0100"]},{"value":[45,"0.0095"]},{"value":[46,"0.0090"]},{"value":[47,"0.0086"]},{"value":[48,"0.0090"]},{"value":[49,"0.0086"]},{"value":[50,"0.0082"]},{"value":[51,"0.0082"]},{"value":[52,"0.0086"]},{"value":[53,"0.0063"]},{"value":[54,"0.0053"]},{"value":[55,"0.0072"]},{"value":[56,"0.0052"]},{"value":[57,"0.0048"]},{"value":[58,"0.0048"]},{"value":[59,"0.0043"]},{"value":[60,"0.0043"]},{"value":[61,"0.0040"]},{"value":[62,"0.0032"]},{"value":[63,"0.0026"]},{"value":[64,"0.0032"]},{"value":[65,"0.0040"]},{"value":[66,"0.0040"]},{"value":[67,"0.0044"]},{"value":[68,"0.0059"]},{"value":[69,"0.0059"]},{"value":[70,"0.0044"]},{"value":[71,"0.0048"]},{"value":[72,"0.0044"]},{"value":[73,"0.0046"]},{"value":[74,"0.0046"]},{"value":[75,"0.0048"]},{"value":[76,"0.0055"]},{"value":[77,"0.0060"]},{"value":[78,"0.0053"]},{"value":[79,"0.0053"]},{"value":[80,"0.0060"]},{"value":[81,"0.0053"]},{"value":[82,"0.0056"]},{"value":[83,"0.0059"]},{"value":[84,"0.0063"]},{"value":[85,"0.0071"]}],"symbol":"circle","showSymbol":true,"lineStyle":{"width":2}},{"name":"yellow card (away)","type":"line","data":[{"value":[0,"0.0080"]},{"value":[1,"0.0088"]},{"value":[2,"0.0082"]},{"value":[3,"0.0078"]},{"value":[4,"0.0074"]},{"value":[5,"0.0070"]},{"value":[6,"0.0067"]},{"value":[7,"0.0070"]},{"value":[8,"0.0067"]},{"value":[9,"0.0064"]},{"value":[10,"0.0075"]},{"value":[11,"0.0075"]},{"value":[12,"0.0074"]},{"value":[13,"0.0071"]},{"value":[14,"0.0069"]},{"value":[15,"0.0090"]},{"value":[16,"0.0090"]},{"value":[17,"0.0090"]},{"value":[18,"0.0097"]},{"value":[19,"0.0090"]},{"value":[20,"0.0097"]},{"value":[21,"0.0097"]},{"value":[22,"0.0090"]},{"value":[23,"0.0096"]},{"value":[24,"0.0105"]},{"value":[25,"0.0096"]},{"value":[26,"0.0076"]},{"value":[27,"0.0078"]},{"value":[28,"0.0086"]},{"value":[29,"0.0095"]},{"value":[30,"0.0106"]},{"value":[31,"0.0094"]},{"value":[32,"0.0089"]},{"value":[33,"0.0094"]},{"value":[34,"0.0100"]},{"value":[35,"0.0107"]},{"value":[36,"0.0100"]},{"value":[37,"0.0108"]},{"value":[38,"0.0117"]},{"value":[39,"0.0080"]},{"value":[40,"0.0080"]},{"value":[41,"0.0080"]},{"value":[42,"0.0075"]},{"value":[43,"0.0071"]},{"value":[44,"0.0078"]},{"value":[45,"0.0084"]},{"value":[46,"0.0110"]},{"value":[47,"0.0105"]},{"value":[48,"0.0110"]},{"value":[49,"0.0105"]},{"value":[50,"0.0100"]},{"value":[51,"0.0100"]},{"value":[52,"0.0095"]},{"value":[53,"0.0105"]},{"value":[54,"0.0105"]},{"value":[55,"0.0088"]},{"value":[56,"0.0096"]},{"value":[57,"0.0096"]},{"value":[58,"0.0104"]},{"value":[59,"0.0104"]},{"value":[60,"0.0104"]},{"value":[61,"0.0112"]},{"value":[62,"0.0104"]},{"value":[63,"0.0104"]},{"value":[64,"0.0096"]},{"value":[65,"0.0096"]},{"value":[66,"0.0088"]},{"value":[67,"0.0104"]},{"value":[68,"0.0104"]},{"value":[69,"0.0104"]},{"value":[70,"0.0104"]},{"value":[71,"0.0104"]},{"value":[72,"0.0096"]},{"value":[73,"0.0092"]},{"value":[74,"0.0092"]},{"value":[75,"0.0072"]},{"value":[76,"0.0082"]},{"value":[77,"0.0090"]},{"value":[78,"0.0095"]},{"value":[79,"0.0095"]},{"value":[80,"0.0090"]},{"value":[81,"0.0095"]},{"value":[82,"0.0089"]},{"value":[83,"0.0094"]},{"value":[84,"0.0088"]},{"value":[85,"0.0071"]}],"symbol":"emptyCircle","showSymbol":true,"lineStyle":{"width":2}}],"title":{"text":"Smoothed baseline event rates per minute (home vs away)"},"toolbox":{},"tooltip":{"trigger":"axis"},"xAxis":[{"name":"minute","nameLocation":"middle","nameGap":25}],"yAxis":[{}]}

          goecharts_ABEzhidnSACY.setOption(option_ABEzhidnSACY);
          function resizeABEzhidnSACY() {
              var w = document.getElementById('ABEzhidnSACY').offsetWidth;
              var titlePx = "Smoothed baseline event rates per minute (home vs away)".length * 18 * 0.55;
              var titleExtra = Math.max(0, Math.ceil(titlePx / (w - 20)) - 1) * 24;
              var legendCols = Math.max(1, Math.floor(w / 175));
              var legendRows = Math.ceil(6 / legendCols);
              var legendTop = 30 + titleExtra;
              var gridTop = legendTop + legendRows * 22 + 20;
              goecharts_ABEzhidnSACY.setOption({title: {textStyle: {width: w - 20, overflow: 'break'}}, legend: {top: legendTop + 'px'}, grid: {top: gridTop + 'px'}});
              goecharts_ABEzhidnSACY.resize();
          }
          resizeABEzhidnSACY();
          window.addEventListener('resize', resizeABEzhidnSACY);
      </script>
      <p>Using these smoothed event rates as a baseline to evaluate deviations from, we can then train a model of the actual event rates experienced by a specific rugby match in response to different player substition types.</p>
      <p>Positive Coefficients improve the rate of the corresponding event type, and negative Coefficients reduce their rates.</p>
      <div class="echarts-container">
          <div class="echarts-item" id="oDVMvmuieuQk" style="width:100%;max-width:600px;height:300px;"></div>
      </div>
      <script type="text/javascript">
          "use strict";
          let goecharts_oDVMvmuieuQk = echarts.init(document.getElementById('oDVMvmuieuQk'), "white", { renderer: "canvas" });
          let option_oDVMvmuieuQk = {"color":["#2c3e50","#2c3e50","#3c78d8","#3c78d8","#b0447a","#b0447a","#7f8c8d","#7f8c8d"],"legend":{"bottom":"5px"},"grid":{"top":"40px","bottom":"85px","left":"60px"},"series":[{"name":"home_front","type":"bar","data":[{"value":-0.2284},{"value":-0.0907},{"value":0.0537},{"value":-0.113},{"value":-0.021},{"value":0.0919}]},{"name":"away_front","type":"bar","data":[{"value":0.126},{"value":0.2144},{"value":-0.007},{"value":0.0492},{"value":0.0138},{"value":0.0456}]},{"name":"home_back","type":"bar","data":[{"value":0.2323},{"value":0.2826},{"value":0.1207},{"value":-0.0269},{"value":0.0574},{"value":0.1142}]},{"name":"away_back","type":"bar","data":[{"value":-0.0559},{"value":-0.1675},{"value":0.1716},{"value":0.0884},{"value":0.0844},{"value":0.023}]},{"name":"home_halves","type":"bar","data":[{"value":0.1817},{"value":-0.11},{"value":-0.0223},{"value":-0.0897},{"value":0.0136},{"value":-0.087}]},{"name":"away_halves","type":"bar","data":[{"value":0.0369},{"value":-0.0064},{"value":-0.0351},{"value":0.1221},{"value":0.1457},{"value":-0.0529}]},{"name":"home_outside","type":"bar","data":[{"value":-0.1068},{"value":0.1405},{"value":-0.0672},{"value":0.2207},{"value":0.0368},{"value":-0.0945}]},{"name":"away_outside","type":"bar","data":[{"value":-0.136},{"value":-0.1402},{"value":-0.0809},{"value":0.0098},{"value":-0.0537},{"value":-0.0596}]}],"title":{"text":"Substitution Covariate Coefficients by Rate Type","left":"center"},"toolbox":{},"tooltip":{"trigger":"axis"},"xAxis":[{"data":["home_try","away_try","home_penalty","away_penalty","home_yellow","away_yellow"]}],"yAxis":[{"name":"Coefficient","nameLocation":"middle","nameGap":45,"nameRotate":90}]}

          goecharts_oDVMvmuieuQk.setOption(option_oDVMvmuieuQk);
          function resizeoDVMvmuieuQk() {
              var w = document.getElementById('oDVMvmuieuQk').offsetWidth;
              var titlePx = "Substitution Covariate Coefficients by Rate Type".length * 18 * 0.55;
              var extra = Math.max(0, Math.ceil(titlePx / (w - 20)) - 1) * 24;
              var legendCols = Math.max(1, Math.floor(w / 130));
              var legendRows = Math.ceil(8 / legendCols);
              var gridBottom = legendRows * 22 + 41;
              goecharts_oDVMvmuieuQk.setOption({title: {textStyle: {width: w - 20, overflow: 'break'}}, grid: {top: (40 + extra) + 'px', bottom: gridBottom + 'px'}});
              goecharts_oDVMvmuieuQk.resize();
          }
          resizeoDVMvmuieuQk();
          window.addEventListener('resize', resizeoDVMvmuieuQk);
      </script>
      <p>Putting all of this together, we can simulate multiple Trajectories (representing multiple possible match situations) having made different types of home team substitution at different moments in a match and evaluate the number of times that match that team eventually won.</p>
      <div class="echarts-container">
          <div class="echarts-item" id="xgfEUfsRAVSZ" style="width:100%;max-width:600px;height:350px;"></div>
      </div>
      <script type="text/javascript">
          "use strict";
          let goecharts_xgfEUfsRAVSZ = echarts.init(document.getElementById('xgfEUfsRAVSZ'), "white", { renderer: "canvas" });
          let option_xgfEUfsRAVSZ = {"color":["#2c3e50","#3c78d8","#b0447a","#7f8c8d"],"legend":{"top":"30px"},"grid":{"top":"90px","bottom":"40px"},"series":[{"name":"Front Row","type":"line","data":[{"value":0.602},{"value":0.61},{"value":0.632},{"value":0.632},{"value":0.638},{"value":0.65},{"value":0.632},{"value":0.636},{"value":0.634}],"symbol":"circle","showSymbol":true,"lineStyle":{"width":2}},{"name":"Back Row","type":"line","data":[{"value":0.608},{"value":0.6},{"value":0.616},{"value":0.608},{"value":0.618},{"value":0.616},{"value":0.602},{"value":0.598},{"value":0.602}],"symbol":"circle","showSymbol":true,"lineStyle":{"width":2}},{"name":"Halves","type":"line","data":[{"value":0.542},{"value":0.636},{"value":0.604},{"value":0.616},{"value":0.612},{"value":0.614},{"value":0.59},{"value":0.588},{"value":0.568}],"symbol":"circle","showSymbol":true,"lineStyle":{"width":2}},{"name":"Outside Backs","type":"line","data":[{"value":0.646},{"value":0.604},{"value":0.61},{"value":0.618},{"value":0.62},{"value":0.638},{"value":0.634},{"value":0.622},{"value":0.64}],"symbol":"circle","showSymbol":true,"lineStyle":{"width":2}}],"title":{"text":"Home Win Probability vs Substitution Minute"},"toolbox":{},"tooltip":{"trigger":"axis"},"xAxis":[{"name":"Substitution Minute","nameLocation":"middle","nameGap":25,"data":["Never","40","45","50","55","60","65","70","75"]}],"yAxis":[{"name":"P(Home Win)","min":"0.5"}]}

          goecharts_xgfEUfsRAVSZ.setOption(option_xgfEUfsRAVSZ);
          function resizexgfEUfsRAVSZ() {
              var w = document.getElementById('xgfEUfsRAVSZ').offsetWidth;
              var titlePx = "Home Win Probability vs Substitution Minute".length * 18 * 0.55;
              var titleExtra = Math.max(0, Math.ceil(titlePx / (w - 20)) - 1) * 24;
              var legendCols = Math.max(1, Math.floor(w / 135));
              var legendRows = Math.ceil(4 / legendCols);
              var legendTop = 30 + titleExtra;
              var gridTop = legendTop + legendRows * 22 + 35;
              goecharts_xgfEUfsRAVSZ.setOption({title: {textStyle: {width: w - 20, overflow: 'break'}}, legend: {top: legendTop + 'px'}, grid: {top: gridTop + 'px'}});
              goecharts_xgfEUfsRAVSZ.resize();
          }
          resizexgfEUfsRAVSZ();
          window.addEventListener('resize', resizexgfEUfsRAVSZ);
      </script>
      <p>This is only a basic analysis, with lots of potential extensions, and yet it’s already apparant that front row forwards are best sustituted in at around the 60 minute mark to have the maximum impact on the match outcome.</p>
      <p>There are plenty of caveats to these findings, but it illustrates how rugby manager actions can be improved with real-world simulations powering their analysis.</p>
      
            <div class="next-post">
        <div class="next-post-label">Next Post</div>
        <a href="/posts/how_sustainable_are_freshwater_fishing_policies_in_the_uk.html" class="next-post-card">
                    <div class="next-post-images" id="next-post-images"></div>
                    <div class="next-post-title">How sustainable are freshwater fishing policies in the UK?</div>
        </a>
      </div>
          </main>
  </div>
  
    <script>
    // Parse and display next post images
    (function() {
      const imagesContainer = document.getElementById('next-post-images');
      if (imagesContainer) {
        try {
          const imagesJson = '[]';
          const images = JSON.parse(imagesJson);
          if (Array.isArray(images) && images.length > 0) {
            images.forEach(imagePath => {
              const img = document.createElement('img');
              img.src = imagePath;
              img.alt = 'How sustainable are freshwater fishing policies in the UK?';
              imagesContainer.appendChild(img);
            });
          }
        } catch (e) {
          console.error('Error parsing next post images:', e);
        }
      }
    })();
  </script>
  
  <script>
    // Build series navigation for collections
    (function() {
      const seriesNav = document.getElementById('series-nav');
      if (!seriesNav) {
        return;
      }

      const seriesTag = seriesNav.dataset.seriesTag;
      if (!seriesTag || seriesTag === 'Loose Threads') {
        return;
      }

      const currentSlug = (window.location.pathname.split('/').pop() || '')
        .replace('.html', '')
        .trim();

      fetch('/posts.json')
        .then(response => response.json())
        .then(posts => {
          const seriesPosts = posts
            .filter(post => post.tag === seriesTag)
            .sort((a, b) => {
              const orderA = a.order !== undefined ? a.order : 999;
              const orderB = b.order !== undefined ? b.order : 999;
              if (orderA !== orderB) {
                return orderA - orderB;
              }
              return (a.title || '').localeCompare(b.title || '');
            });

          if (seriesPosts.length === 0) {
            seriesNav.style.display = 'none';
            return;
          }

          const currentIndex = seriesPosts.findIndex(post => {
            if (post.slug && post.slug === currentSlug) {
              return true;
            }
            if (post.url && currentSlug) {
              return post.url.endsWith(`/posts/.html`);
            }
            return false;
          });

          const toc = document.getElementById('series-toc');
          if (toc) {
            seriesPosts.forEach((post, index) => {
              const item = document.createElement('li');
              if (index === currentIndex) {
                item.classList.add('is-current');
              }
              const link = document.createElement('a');
              link.href = post.url;
              link.textContent = post.title || post.slug || 'Untitled';
              item.appendChild(link);
              toc.appendChild(item);
            });
          }
        })
        .catch(error => {
          console.error('Error loading posts for series navigation:', error);
        });
    })();
  </script>
</body>
</html>
